{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>增加</title>
</head>
<body>
<div align="center">
    <h1>增加一个人物</h1>
    <hr>
    <form action="/test_view/add_person/" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div>
            <label>姓名：</label>
            　　<input type="text" name="name" id="name">
        </div>
        <br>
        <div>
            <label>邮箱：</label>
            　　<input type="text" name="email" id="email">
        </div>
        <br>
        <div>
            <label>性别：</label>
            <select name="gander">
                <option value="1">男</option>
                <option value="2">女</option>
            </select> 　
        </div>
        <br>
        <div>
            <label for="head_img">头像：<img id='imgforshow' src="/static/default_header.png"
                                          style="height:60px;width:60px;"></label>
            　　<input type="file" name="head_img" id="head_img" style="display:none;">
        </div>
        <br>
        <div>
            <label>附件：</label>
            　　<input type="file" name="attachment" id="attachment">
        </div>
        <br>

        <div><input type="submit" value="增加"></div>


    </form>
</div>
<script src="{% static 'jquery-3.4.1.min.js' %}"></script>
<script>
    $("#head_img").change(function () {
        var rd_img = new FileReader(); // 1. 创建一个读取头像文件的对象
        rd_img.readAsDataURL(this.files[0]);  //// 取到当前选中的头像文件
        rd_img.onload = function () {
            // 2. 读取文件是要一定的时间,用onload确定文件读取完成，才能把图片加载到img标签中
            $("#imgforshow").attr("src", rd_img.result);
        };
    });


</script>
</body>
</html>
